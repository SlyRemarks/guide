<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Solar PV - Guide | OpenEnergyMonitor</title>
    <meta name="author" content="Glyn Hudson">
    <meta name="description" content="Solar PV Monitor">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="http://guide.openenergymonitor.org/applications/solar-pv/">

    <meta property="fb:app_id" content="xxxxxxxxxxxxxxx">
    <meta property="og:title" content="Solar PV">
    <meta property="og:site_name" content="Guide | OpenEnergyMonitor">
    <meta property="og:url" content="http://guide.openenergymonitor.org/applications/solar-pv/">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Solar PV Monitor">
    <meta property="og:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@openenergymon">
    
    <meta name="twitter:title" content="Solar PV">
    <meta name="twitter:description" content="Solar PV Monitor">
    <meta name="twitter:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Guide | OpenEnergyMonitor" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-192.png">
    <link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96.png">
    <link rel="icon" type="image/png" sizes="64x64" href="/images/favicon-64.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
    <link rel="apple-touch-icon" href="/images/favicon-57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/favicon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/favicon-72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/favicon-144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/favicon-60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/favicon-120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/favicon-76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/favicon-152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-180.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="/images/favicon-144.png">
    <meta name="msapplication-config" content="/images/browserconfig.xml">
    
   
     <!--<link href='https://fonts.googleapis.com/css?family=Raleway:400,400italic,700' rel='stylesheet' type='text/css' -->

  </head>

  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
  <a href="/" class="site-title">
    <!--<img width='40' src='/images/favicon-192x192.png'> -->
    <!--<span>Guide | OpenEnergyMonitor</span>-->
    <span>OpenEnergyMonitor Guide</span>
  </a>
</div>

<div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  <li><a href="http://shop.openenergymonitor.com">Online Store</a></li>

  <li>
    <a>Setup <i class="icon icon-caret-down"></i></a>
    <ul>
      <li><a href='/setup/'>Required Hardware</a></li>
      <li><a href='/setup/connect/'>Connect</a></li>
      <li><a href='/setup/install/'>Install</a></li>
      <li><a href='/setup/local/'>Log Locally</a></li>
      <li><a href='/setup/remote/'>Log Remotely</a></li>
      <li><a href='/setup/dashboards/'>Dashboards</a></li>
      <li><a href='/setup/emontx'>Add Energy Nodes</a></li>
      <li><a href='/setup/emonth'>Add Temperature Nodes</a></li>
      <li><a href='/setup/import'>Import / Backup</a></li>
    </ul>
  </li>

  <li>
    <a>Applications <i class="icon icon-caret-down"></i></a>
    <ul>
      <li><a href='/applications/home-energy'>Home Energy</a></li>
      <li><a href='/applications/solar-pv'>Solar PV</a></li>
      <li><a href='/advanced/'>Advanced</a></li>
    </ul>
  </li>

  <li>
    <a>Technical <i class="icon icon-caret-down"></i></a>
    <ul>
      <li><a href="/technical/">Overview</a></li>
      <li><a href="/technical/specifications">Specifications</a></li>
      <li><a href="/technical/api/">API</a></li>
      <li><a href="/technical/mqtt">MQTT</a></li>
      <li><a href="/technical/software/">Software</a></li>
      <li><a href="/technical/hardware/">Hardware</a></li>
    </ul>
  </li>
  <li><a href="/help/">Help</a></li>
</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          <article class="page">
  
  <div class='edit-github'><a href='https://github.com/openenergymonitor/guide/tree/master/source/applications/solar-pv.markdown'>Edit on GitHub</a></div>
<div class='edit-github'><a href='http://prose.io/#openenergymonitor/guide/edit/master/source/applications/solar-pv.markdown'>Edit on GitHub Prose</a></div>

  
  <header>
    <h1 class="title indent">
      Solar PV
    </h1>
  </header>
  <hr class="divider">
  

  <p>The OpenEnergyMonitor Solar PV monitor is a tool to help you make the most of your solar generation.</p>

<p>Providing real-time and historic information on your solar generation and demand matching, it will help you better utilise your available solar power.</p>

<p>MySolar PV is a dashboard app which runs on <a href="https://Emoncms.org">Emoncms</a>.</p>

<p><img src="/images/applications/solar-pv/my-solar-pv.jpg" alt="SolarPV" /></p>

<h2 id="explore-visualise">Explore, visualise:</h2>

<ul>
  <li>Solar PV generation</li>
  <li>Site-consumption</li>
  <li>Solar PV generation used on-site (self-site-consumption)</li>
  <li>Solar PV generation exported to the grid</li>
  <li>Electricity imported from the grid</li>
  <li>Real-time &amp; historic daily, monthly and annual totals</li>
</ul>

<h3 id="contents">Contents</h3>

<ol>
  <li>Required Hardware</li>
  <li>Sensor Installation</li>
  <li>Emoncms Feed Setup</li>
  <li>Emoncms MySolarPV App</li>
</ol>

<h3 id="required-hardware">Required Hardware</h3>

<p>See Solar PV tab of <a href="/setup/">Setup &gt; Required Hardware</a></p>

<p>The Emoncms setup instructions below are applicable to both the emonPi and the emonTx where CT1 is solar generation and CT2 is either site-consumption (Type 1 system) or import/export (Type 2 system). If using an emonTx to monitor generation or site-consumption substitute the ‘log to feed’ instructions to use an input from the emonTx instead of emonPi.</p>

<h3 id="a-classtitle-link-namesensor-installation-hrefsensor-installationa-sensor-installation"><a class="title-link" name="sensor-installation" href="#sensor-installation"></a> Sensor Installation</h3>

<p><img src="/images/applications/solar-pv/solar-pv-install.png" alt="Solar PV CT Install" /></p>

<p class="note warning">
<a href="https://openenergymonitor.org/emon/Current_Transformer_Installation">Please read the CT installation guide before installing.</a>
Your safety is your responsibility. Clip-on current sensors are non-invasive and should not have direct contact with the AC mains. However, installing the sensors will require working in close proximity to cables carrying high voltage. As a precaution, we recommend ensuring the cables are fully isolated, i.e. power is switched off, prior to installing your sensors, and proceeding slowly with care. If you have any doubts, seek professional assistance.
</p>

<p class="note">
The clip-on CT sensors must be clipped round either the live or Neutral AC wire. Not both.
</p>

<p><img src="/images/applications/solar-pv/ctinstall.jpg" alt="CT sensor installation " /></p>

<h1 id="need-installation-image-here"><strong>NEED INSTALLATION IMAGE HERE</strong></h1>

<p><strong>Type 1 solar PV System:</strong> When the generation and site-consumption <strong>can</strong> be monitored separately. The amount exported/imported to or from the grid is the difference between generation and site-consumption.</p>

<p><em>Type 1 system:  Grid (import/export) = site-consumption – Generation</em></p>

<p><strong>Type 2 solar PV System:</strong> When the generation and site-consumption <strong>cannot</strong> be monitored separately e.g. the PV inverter output is fed into the fuse box and the household loads are connected to other circuits in the same fuse box. If this is the case, the output from the PV inverter and the grid import/export connection will need to be monitored and site-consumption calculated by subtracting.</p>

<p><em>Type 2 system:  Site-consumption = Generation + Grid import (negative when exporting)</em></p>

<p class="note">
The polarity of the power readings depends on the orientation of the clip-on CT sensor. Orientate the CTs so that generation and site-consumption is positive and grid import/export is **positive when importing and negative when exporting**. The correct orientation can be determined by trial and error.
</p>

<h4 id="a-classtitle-link-nametype-1-system-setup-hreftype-1-system-setupa-type-1-system-setup"><a class="title-link" name="type-1-system-setup" href="#type-1-system-setup"></a> Type 1 System Setup</h4>

<h5 id="type-1-emoncms-input-setup">Type 1 Emoncms input setup</h5>

<p class="note">
For automatic MySolarPV App setup use the suggested feed names in **bold**. The names are case sensitive.
</p>

<p><strong>Setup Solar PV Generation Feed</strong></p>

<p><em>Assuming CT1 (power 1) = Solar Gen</em></p>

<ol>
  <li>Click on spanner icon to configure <code class="highlighter-rouge">emonPi/power1</code>.</li>
  <li>Select <code class="highlighter-rouge">log to feed</code> and create a feed called <strong>solar</strong> with the feed engine set to <code class="highlighter-rouge">PHPFina</code> and feed <code class="highlighter-rouge">interval=10s</code></li>
  <li>Select <code class="highlighter-rouge">power to kwh</code>, create a feed called <strong>solar_kwh</strong> with feed engine <code class="highlighter-rouge">PHPFina</code> and feed <code class="highlighter-rouge">interval=10s</code></li>
</ol>

<p><strong>Setup site-consumption Feed</strong></p>

<p><em>Assuming CT2 (power 2) = site-consumption</em></p>

<ol>
  <li>Click on spanner icon to configure <code class="highlighter-rouge">emonPi/power2</code>.</li>
  <li>Select <code class="highlighter-rouge">log to feed</code> and create a feed called <strong>use</strong> with the feed engine set to PHPFina and feed <code class="highlighter-rouge">interval=10s</code>.</li>
  <li>Select <code class="highlighter-rouge">power to kwh</code>, create a feed called <strong>use_kwh</strong> with feed engine <code class="highlighter-rouge">PHPFina</code> and feed <code class="highlighter-rouge">interval=10s</code>.</li>
</ol>

<p><strong>Calculated grid import:</strong></p>

<ol>
  <li>Use the <code class="highlighter-rouge">- input</code> input processor to subtract solar generation from site consumption in order to calculate import as positive (export will be negative).</li>
  <li>Use <code class="highlighter-rouge">allow positive</code> in order to isolate the import component</li>
  <li>Select <code class="highlighter-rouge">log to feed</code> and create a feed called <strong>import</strong> with the feed engine set to <code class="highlighter-rouge">PHPFina</code> and feed <code class="highlighter-rouge">interval=10s</code></li>
  <li>Select <code class="highlighter-rouge">power to kwh</code>, create a feed called <strong>import_kwh</strong> with feed engine <code class="highlighter-rouge">PHPFina</code> and feed <code class="highlighter-rouge">interval=10s</code></li>
</ol>

<p>Once complete click on <code class="highlighter-rouge">Apps &gt; MySolarPV</code> in order to launch the MySolarPV Emoncms app, If you decide to use custom feed names the app will give you the option to select your solar, use and import feeds.</p>

<h4 id="a-classtitle-link-nametype-2-system-setup-hreftype-2-system-setupa-type-2-system-setup"><a class="title-link" name="type-2-system-setup" href="#type-2-system-setup"></a> Type 2 System Setup</h4>

<h5 id="type-2-emoncms-input-setup">Type 2 Emoncms input setup</h5>

<p class="note">
For automatic MySolarPV App setup use the suggested feed names in **bold**. The names are case sensitive:
</p>

<p><strong>Setup Solar Generation Feed</strong></p>

<p><em>Assuming CT1 (power 1) = Solar Generation</em></p>

<ol>
  <li>Click on spanner icon to configure <code class="highlighter-rouge">emonPi/power1</code></li>
  <li>Select <code class="highlighter-rouge">log to feed</code> and create a feed called <strong>solar</strong> with the feed engine set to <code class="highlighter-rouge">PHPFina</code> and feed <code class="highlighter-rouge">interval=10s</code></li>
  <li>Select <code class="highlighter-rouge">power to kwh</code>, create a feed called <strong>solar_kwh</strong> with feed engine <code class="highlighter-rouge">PHPFina</code> and feed <code class="highlighter-rouge">interval=10s</code></li>
</ol>

<p><strong>Calculated site-consumption:</strong></p>

<ol>
  <li>Use <code class="highlighter-rouge">+ input</code> input processor to add CT2 grid import/export to solar generation in order to calculate site-consumption</li>
  <li>Select <code class="highlighter-rouge">log to feed</code> and create a feed called <strong>use</strong> with the feed engine set to <code class="highlighter-rouge">PHPFina</code> and feed <code class="highlighter-rouge">interval=10s</code></li>
  <li>Select <code class="highlighter-rouge">power to kwh</code>, create a feed called <strong>use_kwh</strong> with feed engine <code class="highlighter-rouge">PHPFina</code> and feed <code class="highlighter-rouge">interval=10s</code></li>
</ol>

<p><strong>Setup Grid Import Feed</strong></p>

<p><em>Assuming CT2 (power 2) = Grid import/export</em></p>

<ol>
  <li>Click on spanner icon to configure <code class="highlighter-rouge">emonPi/power2</code></li>
  <li>Select <code class="highlighter-rouge">allow positive</code> to isolate import component</li>
  <li>Select <code class="highlighter-rouge">power to feed</code> and create a feed called <strong>import</strong> with the feed engine set to <code class="highlighter-rouge">PHPFina</code> and feed <code class="highlighter-rouge">interval=10s</code></li>
  <li>Select <code class="highlighter-rouge">power to kwh</code>, create a feed called <strong>import_kwh</strong> with feed engine <code class="highlighter-rouge">PHPFina</code> and feed <code class="highlighter-rouge">interval=10s</code></li>
</ol>

<h3 id="a-classtitle-link-nameconfigure-mysolarpv-app-hrefconfigure-mysolarpv-appa-configure-mysolarpv-app"><a class="title-link" name="configure-mysolarpv-app" href="#configure-mysolarpv-app"></a> Configure MySolarPV App</h3>

<p>With your emonPi or emonTx inputs configured as above and with use of the suggested feed names the MySolarPV app will launch with no further configuration required.</p>

<p>Alternatively the MySolar app will automatically show the configuration screen if it can’t detect the expected feeds. It’s then possible to select feeds from the drop down feed selector menus:</p>

<p>Once the required feeds are selected, the Launch App button will appear.</p>

<p><img src="/images/applications/solar-pv/my-solarpv-config.png" width="800" /></p>

<h3 id="a-classtitle-link-nameconfigure-my-solar-app-power-view-hrefconfigure-my-solar-app-power-viewa-configure-my-solar-app-power-view"><a class="title-link" name="configure-my-solar-app-power-view" href="#configure-my-solar-app-power-view"></a> Configure My Solar App power view</h3>

<p>The main view shows a moving window power view of solar generation Vs site-consumption which, can be used to explore matching at any given moment of the day. Site-consumption is shown in blue and solar generation in yellow. The totals at the bottom of the page relate to the current window selected and show at a glance how much of site-consumption was supplied directly from solar and how much of the solar generation was exported to the grid.</p>

<p><img src="/images/applications/solar-pv//my-solarpv1.png" width="500" /></p>

<h3 id="a-classtitle-link-namemy-solar-history-view-hrefmy-solar-history-viewa-my-solar-history-view"><a class="title-link" name="my-solar-history-view" href="#my-solar-history-view"></a> My Solar history view</h3>

<p>Clicking on view history brings up a bar graph showing solar generation and site-consumption on a daily basis. Including how much of the solar generation is used directly on site and how much is exported.</p>

<p><img src="/images/applications/solar-pv//my-solar-pv2.png" width="500" /></p>


</article>


        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
    <section class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">About OpenEnergyMonitor</h1>
  <ul class="divided">
    <li>
      A project to develop open-source energy monitoring tools to help us relate to our use of energy, our energy systems and the challenge of sustainable energy.
    </li>
    <li><a href='https://openenergymonitor.org'>OpenEnergyMonitor.org</a></li>
    <li><a href='https://openenergymonitor.org/emon/opensustech'>Open-Source Tools</a></li>
    <li><a href='https://openenergymonitor.org/emon/sustainable-energy'>Sustainable Energy</a> </li>
  </ul>
  <p>
  <h1 class="title delta">About Emoncms</h1>
  <ul class="divided">
    <li>
      Emoncms is a powerful open-source web-app for processing, logging and visualising energy, temperature and other environmental data.
    </li>
    <li><a href='https://emoncms.org'>Emoncms.org</a></li>
    <li><a href='https://github.com/emoncms'>Emoncms Github</a> </li>
  </ul>
</section>

    
</div>
        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright">
  <a rel="me" href='https://twitter.com/openenergymon'><i class="icon-twitter"></i></a>
  <a rel="me" href='https://github.com/openenergymonitor/guide'><i class="icon-github"></i></a>
</a>
  <a rel="me" href='http://openenergymonitor.blogspot.com'><i class="icon-rss"></i></a>

  <div class="credit">
    Website powered by <a href='http://jekyllrb.com/'>Jekyll</a> and the <a href='https://github.com/coogie/oscailte'>Oscalite Octopress theme</a>.<br />
    Hosted by <a href='https://pages.github.com/'>GitHub</a> and served by <a href='https://cloudflare.com'>CloudFlare</a>.
  </div>
</div>
    </div>
  </div>
</div>
    </footer>

    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <script>
  var _gaq=[['_setAccount','UA-10321170-3'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>



<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'openenergymonitor',
      count: 5,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>

  </body>
</html>